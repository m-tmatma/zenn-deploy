---
title: "matplotlib ã§æŒ‡å®šç¯„å›²ã«èƒŒæ™¯è‰²ã‚’ä»˜ã‘ã‚‹"
emoji: "ğŸ‘"
type: "tech"
topics:
  - "matplotlib"
published: true
published_at: "2022-10-09 08:37"
---

# matplotlib ã§æŒ‡å®šç¯„å›²ã«èƒŒæ™¯è‰²ã‚’ä»˜ã‘ã‚‹

## å‡ºåŠ›ã‚µãƒ³ãƒ—ãƒ«

![](https://storage.googleapis.com/zenn-user-upload/9fcbe02fa62e-20221009.png)

## äº‹å‰æº–å‚™

```
pip install pandas numpy matplotlib
```

## ã‚³ãƒ¼ãƒ‰

```
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd

fig, ax = plt.subplots(figsize=(8, 4))

x    = np.arange(100)
y    = np.arange(100,200)
sample_df = pd.DataFrame( {'x' : x, 'y' : y })
ax.plot(sample_df["x"], sample_df["y"])
ax.text(0, 150, "0-10", rotation='vertical')

# x = 10 ï½ 20 ã®ç¯„å›²ã‚’å¡—ã‚Šã¤ã¶ã™
ax.axvspan(10, 20, color="gray", alpha=0.2, label="10-20")

# (10, 150) ã®ä½ç½®ã«ç¸¦æ–¹å‘ã« "10-20" ã¨ã„ã†ãƒ†ã‚­ã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹
ax.text(10, 150, "10-20", rotation='vertical')

# x = 30 ï½ 40 ã®ç¯„å›²ã‚’å¡—ã‚Šã¤ã¶ã™
ax.axvspan(30, 40, color="gray", alpha=0.3)

# (30, 150) ã®ä½ç½®ã«ç¸¦æ–¹å‘ã« "30-40" ã¨ã„ã†ãƒ†ã‚­ã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹
ax.text(30, 150, "30-40", rotation='vertical')

# x = 50 ï½ 60 ã®ç¯„å›²ã‚’å¡—ã‚Šã¤ã¶ã™
ax.axvspan(50, 60, color="gray", alpha=0.4)

# (50, 150) ã®ä½ç½®ã«ç¸¦æ–¹å‘ã« "50-60" ã¨ã„ã†ãƒ†ã‚­ã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹
ax.text(50, 150, "50-60", rotation='vertical')

# x = 70 ï½ 80 ã®ç¯„å›²ã‚’å¡—ã‚Šã¤ã¶ã™
ax.axvspan(70, 80, color="gray", alpha=0.5)

# (70, 150) ã®ä½ç½®ã«ç¸¦æ–¹å‘ã« "70-80" ã¨ã„ã†ãƒ†ã‚­ã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹
ax.text(70, 150, "70-80", rotation='vertical')

# y = 120 ï½ 130 ã®ç¯„å›²ã‚’å¡—ã‚Šã¤ã¶ã™
ax.axhspan(120, 130, color="green", alpha=0.7, label="120-130")

# (0, 125) ã®ä½ç½®ã«ç¸¦æ–¹å‘ã« "120-130" ã¨ã„ã†ãƒ†ã‚­ã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹
ax.text(0, 125, "120-130")

ax.grid()
labels = ax.get_xticklabels()

# rotation=90 ã§ x è»¸ã®ç›®ç››ã‚Šã‚’å›è»¢ã—ã¦è¡¨ç¤ºã™ã‚‹
plt.setp(labels, rotation=90, fontsize=12);
ax.set_title("test")
plt.show()
```