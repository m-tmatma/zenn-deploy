---
title: "pandas ã§ unix epoch time ã‹ã‚‰ datetime ã«å¤‰æ›ã™ã‚‹"
emoji: "ğŸ·"
type: "tech"
topics:
  - "pandas"
  - "datetime"
  - "epoch"
published: true
published_at: "2022-10-07 16:48"
---

# pandas ã§ unix epoch time ã‹ã‚‰ datetime ã«å¤‰æ›ã™ã‚‹

unix epoch time ã®å…¥ã£ãŸãƒ‡ãƒ¼ã‚¿ã‚’ datetime ã«å¤‰æ›ã™ã‚‹

## ã‚³ãƒ¼ãƒ‰

https://github.com/m-tmatma/pandas-test/blob/8e409a33e8d6c11d86fb47503ba2e09251212384/to_datetime.py

## èª¬æ˜

### å¿…è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã® import

```
import time
import pandas as pd
```

### ç¾åœ¨æ™‚é–“ã® epoch time (UTC) ã‚’å–å¾—ã™ã‚‹

```
nowt  = int(time.time())
df = pd.DataFrame( {'time' : [nowt] })
```

ãƒ¡ãƒ¢: `time.time()` ã‚’æ•´æ•°ã«å¤‰æ›ã™ã‚‹ã®ã¯ç”»é¢è¡¨ç¤ºã—ãŸã¨ãã®è¦‹ã‚„ã™ã•ã®ãŸã‚ (å°æ•°ç‚¹ä»¥ä¸‹ã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹ã¨è¦‹ã«ãããªã‚‹ã®ã§)

### epoch time (UTC) ã‚’ datetime (UTC) ã«å¤‰æ›ã™ã‚‹

```
df['utc']   = pd.to_datetime(df["time"], unit='s', utc=True)
```

### datetime (UTC) ã‚’ datetime (JST) ã«å¤‰æ›ã™ã‚‹

```
df['local'] = df['utc'].dt.tz_convert('Asia/Tokyo')
```

### è¡¨ç¤º

```
print(df)
```

